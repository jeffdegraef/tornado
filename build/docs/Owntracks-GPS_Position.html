
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2016-05-25
 Rendered using Reflow Maven Skin 1.1.0 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	
<!-- Mirrored from thethingbox.io/docs/Owntracks-GPS_Position.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 17 Jun 2016 11:09:53 GMT -->
<head>
		<meta charset="UTF-8" />
		<title>The ThingBox Documentation &#x2013; How to display a GPS position on a map with Owntracks</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="css/bootstrap.min.css" rel="stylesheet" />
		<link href="css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="css/docs.css" rel="stylesheet" />
		<link href="css/reflow-skin.css" rel="stylesheet" />

		
		<link href="css/lightbox.css" rel="stylesheet" />
		
		<link href="css/site.css" rel="stylesheet" />
		<link href="css/print.css" rel="stylesheet" media="print" />
		
		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Lato:300,400,700,400italic|Montserrat:700|Homemade+Apple"/>
		<!-- Google Analytics -->
		<script type="text/javascript">
		
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-49929254-1']);
			_gaq.push(['_trackPageview']);

			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();

		</script>
		</head>

	<body class="page-owntracks-gps_position project-thethingbox-main" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="index.html"><img src='images/logo.png'/>
        <span class="color-highlight">The Thingbox</span> documentation</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Main documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="whatsnew.html" title="What's New">What's New</a></li>
									<li ><a href="buyPi.html" title="Buy a Pi">Buy a Pi</a></li>
									<li ><a href="Flash_Pi_image.html" title="Prepare the Pi">Prepare the Pi</a></li>
									<li ><a href="faq.html" title="FAQ">FAQ</a></li>
									<li ><a href="faq_tech.html" title="FAQ for Geeks">FAQ for Geeks</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>
		
	<div class="container">
	
	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<a href="../index_old.html" id="bannerLeft"><h1><span class="color-highlight"></span></h1></a>
					<p class="lead"></p>
				</div>
				<div class="pull-right">
				</div>
			</div>
		</div>
	</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span8">
			<div class="body-content">
<div class="page-header">
 <h1 id="how_to_display_a_gps_position_on_a_map_with_owntra">How to display a GPS position on a map with Owntracks</h1>
</div> 
<p>This documentation will explain and show how to use the Owntracks node and how to display GPS positions on a map.</p> 
<div class="section"> 
 <div class="section"> 
  <h3 id="What_is_OwnTracks_">What is OwnTracks ?</h3> 
  <p>OwnTracks is an application that allows you to keep track of your own location. It’s available for IOS and Android devices.</p> 
  <p>Before going further, you must have the application Owntracks on your mobile phone (Android or iOS) and configurate it. Here is how to do:</p> 
  <div class="section"> 
   <h4 id="How_to_install_and_configure_OwnTracks">How to install and configure OwnTracks</h4> 
   <p><img src="images/Owntracks/owntracks.png" alt=" " /></p> 
  </div> 
  <div class="section"> 
   <h4 id="Where_can_I_download_OwnTracks_">Where can I download OwnTracks ?</h4> 
   <p>OwnTracks is a mobile application that can be downloaded on the <a class="externalLink" href="https://play.google.com/store/apps/details?id=st.alr.mqttitude">Google Play Store</a> or on the <a class="externalLink" href="https://itunes.apple.com/us/app/mqttitude/id692424691?mt=8">Apple App Store</a>.</p> 
  </div> 
  <div class="section"> 
   <h4 id="Prerequisites">Prerequisites</h4> 
   <p>To use OwnTracks, you obviously need a mobile(IOS/Android) phone and an internet connection. You also need to use a OwnTracks account.</p> 
   <blockquote> 
    <p><b>During this example the username is ‘antoine’ but you can replace all the ‘antoine’ by another nickname</b></p> 
   </blockquote> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Configuration_of_Owntracks">Configuration of Owntracks</h3> 
  <p>Go to the preferences with the “options” button on the top right of the application.</p> 
  <div class="section"> 
   <h4 id="Connection">Connection</h4> 
   <p>Before trying to connect, make sure you have checked the option “Advanced connection preferences” in Preferences-&gt;Advanced-&gt;Advanced connection preferences:</p> 
   <p><img src="images/Owntracks/owntracks_config1.png" alt=" " /></p> 
   <p>This option allows you to turn off the SSL/TLS security, when you go to Preferences-&gt;Connection.</p> 
   <p>These credentials are needed to connect to your MQTT broker:</p> 
   <p><img src="images/Owntracks/owntracks_config2.png" alt=" " /></p> 
   <p>The host is the MQTT server you want to connect to, and the port is the one you’ll use to connect to this server. Username is needed too in order to connect but not used in the second part.</p> 
   <p>** You have to note the “Device ID” because you will use it for the configuration of the Owntracks node in the second part. **</p> 
  </div> 
  <div class="section"> 
   <h4 id="Publish_topic">Publish topic</h4> 
   <p>You can configure your publish topic (default one is owntracks/username/device ID, but you can change it if you want). To do this, go to Preferences-&gt;Advanced-&gt;Publish topic, then, enter the topic you want to use to publish your OwnTracks notifications.</p> 
   <p><img src="images/Owntracks/owntracks_config3.png" alt=" " /></p> 
  </div> 
  <div class="section"> 
   <h4 id="Subscribe_topic">Subscribe topic</h4> 
   <p>Once its done, you can define the topic you want to receive messages on. (Preferences-&gt;Advanced-&gt;Subscribe topic). Default one is owntracks/+/+.</p> 
   <p><img src="images/Owntracks/owntracks_config4.png" alt=" " /></p> 
  </div> 
  <div class="section"> 
   <h4 id="Reporting">Reporting</h4> 
   <p>Please ensure that you have checked the “Automatic location reporting” option in Preferences-&gt;Advanced-&gt;Automatic location reporting:</p> 
   <p><img src="images/Owntracks/owntracks_config5.png" alt=" " /></p> 
   <p>It allows you to automatically send notifications.</p> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Node-RED_configuration">Node-RED configuration</h3> 
  <div class="section"> 
   <h4 id="Owntracks">Owntracks</h4> 
   <p>Firstly, install the <tt>ttb-node-owntracks</tt> via the Import-&gt;Node menu. You will see this window :</p> 
   <p><img src="images/node-red/import_node.jpg" alt=" " /></p> 
   <p>To install it, you have to write <tt>ttb-node-owntracks</tt> in the form of this window. Click <tt>OK</tt> button, wait a moment for the installation and when the <tt>Reboot</tt> button can be clicked, click on it !</p> 
   <p>When your ThingBox have restart, go in the Import-&gt;Library menu and you will see <tt>owntracks</tt> in the library list, click on it.</p> 
   <p>You will have these nodes like that:</p> 
   <p><img src="images/Owntracks/owntracks_flows1.png" alt=" " /></p> 
   <p>Next you have to configure the Owntracks node (the blue one) by double clicking and you will see these:</p> 
   <p><img src="images/Owntracks/owntracks_node1.png" alt=" " /></p> 
   <p>For the topic you have to modify in order to have the same topic when you have configure the publish topic on your application (see the first part).</p> 
   <p>Then go to the advance part by clicking on it:</p> 
   <p><img src="images/Owntracks/owntracks_node2.png" alt=" " /></p> 
   <p>In this part you have to configure the client ID. ** Normally you have noted it in the first part. ** It is obtainable when you configure the Connection preferences of your smartphone application (see first part again).</p> 
   <p>Then click OK and Deploy the Nodes</p> 
   <p>Now go to <a class="externalLink" href="http://thethingbox.local/api/map">thethingbox.local/api/map</a> (you have to replace ‘thethingbox’ in the link by the name of your ThingBox) and you will see the location you want on a map like that:</p> 
   <p><img src="images/Owntracks/owntracks_map.png" alt=" " /></p> 
   <p>To see a new position click on the Report button of the application Owntracks on your smartphone (these is the arrow on top the application) and refresh the map page.</p> 
   <p><img src="images/Owntracks/owntracks_report.png" alt=" " /></p> 
  </div> 
 </div> 
</div>
			</div>
		</div>
		<div class="span4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li class="dropdown"><a href="#how_to_display_a_gps_position_on_a_map_with_owntra" title="How to display a GPS position on a map with Owntracks">How to display a GPS position on a map with Owntracks <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li class="dropdown"><a href="#What_is_OwnTracks_" title="What is OwnTracks ?">What is OwnTracks ? <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#How_to_install_and_configure_OwnTracks" title="How to install and configure OwnTracks">How to install and configure OwnTracks</a>
		<li><a href="#Where_can_I_download_OwnTracks_" title="Where can I download OwnTracks ?">Where can I download OwnTracks ?</a>
		<li><a href="#Prerequisites" title="Prerequisites">Prerequisites</a>
				<li class="divider"></li>
			</ul>
		</li>
		<li class="dropdown"><a href="#Configuration_of_Owntracks" title="Configuration of Owntracks">Configuration of Owntracks <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Connection" title="Connection">Connection</a>
		<li><a href="#Publish_topic" title="Publish topic">Publish topic</a>
		<li><a href="#Subscribe_topic" title="Subscribe topic">Subscribe topic</a>
		<li><a href="#Reporting" title="Reporting">Reporting</a>
				<li class="divider"></li>
			</ul>
		</li>
		<li class="dropdown"><a href="#Node-RED_configuration" title="Node-RED configuration">Node-RED configuration <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Owntracks" title="Owntracks">Owntracks</a>
				<li class="divider"></li>
			</ul>
		</li>
			</ul>
		</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->
	
	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span9 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Main documentation</li>
						<li >
							<a href="whatsnew.html" title="What's New">What's New</a>
						</li>
						<li >
							<a href="buyPi.html" title="Buy a Pi">Buy a Pi</a>
						</li>
						<li >
							<a href="Flash_Pi_image.html" title="Prepare the Pi">Prepare the Pi</a>
						</li>
						<li >
							<a href="faq.html" title="FAQ">FAQ</a>
						</li>
						<li >
							<a href="faq_tech.html" title="FAQ for Geeks">FAQ for Geeks</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</footer>
		
	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2016 <a href="http://www.digitalairways.com/">Digital Airways</a>. All Rights Reserved.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="../../ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	
	<script src="js/bootstrap.min.js"></script>
	<script src="js/lightbox.js"></script>
	<script src="js/jquery.smooth-scroll.min.js"></script>
	<!-- back button support for smooth scroll -->
	<script src="js/jquery.ba-bbq.min.js"></script>

	<script src="js/reflow-skin.js"></script>
	
	</body>

<!-- Mirrored from thethingbox.io/docs/Owntracks-GPS_Position.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 17 Jun 2016 11:10:14 GMT -->
</html>
