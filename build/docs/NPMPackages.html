
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2016-05-25
 Rendered using Reflow Maven Skin 1.1.0 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	
<!-- Mirrored from thethingbox.io/docs/NPMPackages.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 17 Jun 2016 11:11:45 GMT -->
<head>
		<meta charset="UTF-8" />
		<title>The ThingBox Documentation &#x2013; How to make NPM Packages for The Thingbox</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="css/bootstrap.min.css" rel="stylesheet" />
		<link href="css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="css/docs.css" rel="stylesheet" />
		<link href="css/reflow-skin.css" rel="stylesheet" />

		
		<link href="css/lightbox.css" rel="stylesheet" />
		
		<link href="css/site.css" rel="stylesheet" />
		<link href="css/print.css" rel="stylesheet" media="print" />
		
		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Lato:300,400,700,400italic|Montserrat:700|Homemade+Apple"/>
		<!-- Google Analytics -->
		<script type="text/javascript">
		
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-49929254-1']);
			_gaq.push(['_trackPageview']);

			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();

		</script>
		</head>

	<body class="page-npmpackages project-thethingbox-main" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="index.html"><img src='images/logo.png'/>
        <span class="color-highlight">The Thingbox</span> documentation</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Main documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="whatsnew.html" title="What's New">What's New</a></li>
									<li ><a href="buyPi.html" title="Buy a Pi">Buy a Pi</a></li>
									<li ><a href="Flash_Pi_image.html" title="Prepare the Pi">Prepare the Pi</a></li>
									<li ><a href="faq.html" title="FAQ">FAQ</a></li>
									<li ><a href="faq_tech.html" title="FAQ for Geeks">FAQ for Geeks</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>
		
	<div class="container">
	
	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<a href="../index_old.html" id="bannerLeft"><h1><span class="color-highlight"></span></h1></a>
					<p class="lead"></p>
				</div>
				<div class="pull-right">
				</div>
			</div>
		</div>
	</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span8">
			<div class="body-content">
<div class="page-header">
 <h1 id="how_to_make_npm_packages_for_the_thingbox">How to make NPM Packages for The Thingbox</h1>
</div> 
<p>(public documentation)</p> 
<p>The Thingbox contains a dialog to allow Node-RED nodes to be easily installed by non programmers.</p> 
<p>This page is dedicated to programmers and describes how to build the NPM package to achieve that.</p> 
<div class="section"> 
 <h2 id="The_Readme_file">The Read.me file</h2> 
 <p>The file should tell if the package is compatible with stock Node-RED or not.</p> 
</div> 
<div class="section"> 
 <h2 id="The_packagejson_file">The package.json file</h2> 
 <p>Here is the <a class="externalLink" href="https://docs.npmjs.com/getting-started/using-a-package.json">npm documentation</a>.</p> 
 <ul> 
  <li>Add all dependencies, even if they are already globally available in NodeRED.</li> 
  <li>No capital letters for name field.</li> 
  <li>Do NOT use “node-red” keyword if the package is not compatible with stock Node-RED.</li> 
  <li>despite the example below, the version should start at 1.0.0 if the package can be used.</li> 
 </ul> 
 <p>Below is an example:</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>{
  &quot;name&quot;: &quot;ttb-ibeacon&quot;,
  &quot;version&quot;: &quot;1.0.3&quot;,
  &quot;description&quot;: &quot;This node allow the user to use iBeacon compatible device&quot;,
  &quot;node-red&quot;: {
    &quot;nodes&quot;: {
      &quot;ibeacon&quot;: &quot;12-iBeacon.js&quot;
    }
  },
  &quot;installation-duration&quot;:180,
  &quot;dependencies&quot;: {
    &quot;gyp&quot;: &quot;^0.5.0&quot;,
    &quot;bleacon&quot;: &quot;&quot;,
    &quot;node-pre-gyp&quot;: &quot;^0.6.13&quot;
  },
  &quot;scripts&quot;:{
    &quot;preinstall&quot;:&quot;sudo apt-get install --fix-missing -y bluetooth bluez libbluetooth-dev libudev-dev&quot;
  },
  &quot;keywords&quot;: [
    &quot;ttb&quot;,
    &quot;thethingbox&quot;,
    &quot;timesquair&quot;,
    &quot;ibeacon&quot;,
    &quot;bleacon&quot;,
    &quot;estimote&quot;
  ],
  &quot;author&quot;: &quot;http://www.digitalairways.com/&quot;,
  &quot;license&quot;: &quot;http://www.wtfpl.net&quot;
}
</pre> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="ainstallation-duration">“installation-duration”</h3> 
  <p>Important value in seconds that helps the user to wait for the install. This point is important because it may be long (5 minutes for this example).</p> 
 </div> 
 <div class="section"> 
  <h3 id="ascripts">“scripts”</h3> 
  <p>Put here all low level installations. Keep in mind that the typical Thingbox user usually knows nothing about SSH and even Linux. Thus the only thing that should be done is a “npm install” of the libray name.</p> 
 </div> 
 <div class="section"> 
  <h3 id="Demo_flow">Demo flow</h3> 
  <p>There often is one or more demo flow provided with nodes. To date there are copy-pasted into the page. The result is an ugly non-understandable block of flow difficult to use because it should be copy pasted in a Node-RED dialog box.</p> 
  <p>If you want to provide demo flow (you should!), create flow libs (with the menu Export / lib) and put them into a <tt>lib/flows</tt> folder at the first level of the npm package. These libs will be available in the import / lib menu after the install.</p> 
 </div> 
 <div class="section"> 
  <h3 id="How_to_write_Node-RED_nodes_for_the_Thingbox">How to write Node-RED nodes for the Thingbox?</h3> 
  <p>Look here: <a href="WritingNode.html">How to write a Node-RED node for the Thingbox</a></p> 
 </div> 
</div>
			</div>
		</div>
		<div class="span4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li class="dropdown"><a href="#how_to_make_npm_packages_for_the_thingbox" title="How to make NPM Packages for The Thingbox">How to make NPM Packages for The Thingbox <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#The_Readme_file" title="The Read.me file">The Read.me file</a>
		<li class="dropdown"><a href="#The_packagejson_file" title="The package.json file">The package.json file <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#ainstallation-duration" title="“installation-duration”">“installation-duration”</a>
		<li><a href="#ascripts" title="“scripts”">“scripts”</a>
		<li><a href="#Demo_flow" title="Demo flow">Demo flow</a>
		<li><a href="#How_to_write_Node-RED_nodes_for_the_Thingbox" title="How to write Node-RED nodes for the Thingbox?">How to write Node-RED nodes for the Thingbox?</a>
				<li class="divider"></li>
			</ul>
		</li>
			</ul>
		</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->
	
	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span9 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Main documentation</li>
						<li >
							<a href="whatsnew.html" title="What's New">What's New</a>
						</li>
						<li >
							<a href="buyPi.html" title="Buy a Pi">Buy a Pi</a>
						</li>
						<li >
							<a href="Flash_Pi_image.html" title="Prepare the Pi">Prepare the Pi</a>
						</li>
						<li >
							<a href="faq.html" title="FAQ">FAQ</a>
						</li>
						<li >
							<a href="faq_tech.html" title="FAQ for Geeks">FAQ for Geeks</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</footer>
		
	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2016 <a href="http://www.digitalairways.com/">Digital Airways</a>. All Rights Reserved.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="../../ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	
	<script src="js/bootstrap.min.js"></script>
	<script src="js/lightbox.js"></script>
	<script src="js/jquery.smooth-scroll.min.js"></script>
	<!-- back button support for smooth scroll -->
	<script src="js/jquery.ba-bbq.min.js"></script>

	<script src="js/reflow-skin.js"></script>
	
	</body>

<!-- Mirrored from thethingbox.io/docs/NPMPackages.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 17 Jun 2016 11:11:45 GMT -->
</html>
